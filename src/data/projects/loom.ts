import type { Project } from './types';

/**
 * Loom - AI-платформа для автоматизации корпоративного SMM
 *
 * Полнофункциональная B2B SaaS платформа с микросервисной архитектурой,
 * уникальной системой обучения AI-моделей и комплексным AI-image-studio.
 *
 * Разработан одним разработчиком (fullstack) за 1-2 месяца до стадии MVP.
 */
export const loomProject: Project = {
  // Базовая информация
  id: 'loom',
  title: 'Loom',
  subtitle: 'AI-платформа для автоматизации корпоративного SMM',
  description: 'B2B SaaS платформа для автоматизации создания, модерации и публикации контента в социальных сетях с использованием AI',
  featured: true,

  // Визуальные элементы
  badges: [
    { text: 'B2B SaaS', variant: 'enterprise' },
    { text: 'AI Platform', variant: 'ai' },
    { text: 'Fullstack', variant: 'architecture' },
    { text: 'Microservices', variant: 'backend' },
  ],

  metrics: [
    { label: 'Микросервисы', value: '9' },
    { label: 'AI модели', value: '4+' },
    { label: 'Соц. сети', value: '4+' },
    { label: 'Разработка', value: '1-2 мес' },
  ],

  // Executive Summary
  role: 'Solo Fullstack Developer',
  duration: '1-2 месяца (до MVP)',
  teamSize: 'Вы + Product Manager',
  status: 'Бета-тестирование с 10 компаниями, 30+ активных пользователей',

  // Проблема и контекст
  businessProblem: 'Компаниям требовалось решение для автоматизации SMM-отдела: сократить время на создание контента, убрать рутинное взаимодействие между сотрудниками и SMM-специалистами, при этом сохранить качество и соответствие бренду.',

  challenges: [
    {
      title: 'Качество AI-генерации',
      description: 'Текст, генерируемый AI, часто выглядит механическим и не соответствует ожиданиям пользователей',
      solution: 'Разработана система итеративного рефайнинга через критику AI+человек, создающая эталонные примеры для каждой рубрики',
    },
    {
      title: 'Управление контекстом',
      description: 'Контекст AI-брифов быстро разрастался, приводя к нестабильной работе и высокой стоимости API-запросов',
      solution: 'Процесс разбит на независимые промпты с передачей только необходимого контекста между этапами',
    },
    {
      title: 'UX сложных флоу',
      description: 'Обучение и дообучение рубрик - нетривиальные процессы, требующие удобного интерфейса',
      solution: 'Реализован интуитивный UX в Telegram Bot и Web-админке с четким разделением этапов и визуальным фидбеком',
    },
  ],

  // Уникальные решения
  solution: 'Создана комплексная AI-платформа с тремя ключевыми инновациями: (1) система обучения рубрик через итеративный AI+человек рефайнинг до эталонного результата, (2) JSON-промптинг через Claude для препроцессинга изображений, (3) AI-image-studio, объединяющий возможности gpt-image-1 и NanoBanana в едином UI.',

  uniqueApproaches: [
    'Итеративное обучение рубрик: AI и человек совместно критикуют текст и изображения до достижения эталонного качества',
    'JSON-промптинг: Claude получает полный контекст публикации и генерирует структурированный JSON-промпт для image-моделей',
    'Разбиение брифов на независимые промпты с передачей контекста для предотвращения его разрастания',
    'AI-анализ страниц: сканирование сайта и Telegram-канала клиента через Claude для автоматического создания брифа организации',
    'Голосовой ввод через Whisper для быстрого описания контента сотрудниками',
  ],

  // Ключевые возможности (8 фич из описания)
  keyFeatures: [
    {
      title: '1. AI-бриф организации (Claude Haiku 4.5)',
      description: 'Автоматическое создание профиля организации с анализом продуктов, целей и brand voice',
      technicalDetails: 'Сканирование сайта (web scraping + Claude анализ) и Telegram-канала через API для извлечения контекста компании',
    },
    {
      title: '2. AI-бриф рубрики с обучением (Claude Haiku 4.5 + Sonnet 4.5)',
      description: 'Создание тематической рубрики с уникальной механикой обучения через итеративный процесс',
      technicalDetails: 'AI+человек критикуют текст и изображения, многократно улучшая до эталонного результата, который затем легко воспроизводится',
    },
    {
      title: '3. Дообучение рубрики',
      description: 'Быстрая адаптация стиля текста и изображений, выявление конфликтов между параметрами',
      technicalDetails: 'Анализ семантических конфликтов между организацией и рубрикой, возможность быстрой адаптации под праздники и события',
    },
    {
      title: '4. Управление сотрудниками и правами',
      description: 'Корпоративная система ролей: администратор, модератор, сотрудник с гранулярными правами',
      technicalDetails: 'RBAC с разделением прав на уровне организаций, рубрик и действий (создание, модерация, публикация)',
    },
    {
      title: '5. Генерация и редактирование текста (Claude Sonnet 4.5)',
      description: 'Генерация высококачественного текста, не выглядящего как AI-шный',
      technicalDetails: 'Итеративный рефайнинг с учетом контекста организации, рубрики и предыдущих примеров. Голосовой ввод через Whisper API',
    },
    {
      title: '6. AI-image-studio (gpt-image-1 + NanoBanana)',
      description: 'Полнофункциональная студия работы с изображениями: генерация, редактирование, композиция',
      technicalDetails: 'JSON-промптинг через Claude для препроцессинга инструкций. 6 режимов: генерация на тему, генерация с промптом, на основе изображения, редактирование промптом, объединение 3 изображений',
    },
    {
      title: '7. Нарезка YouTube видео',
      description: 'Автоматическое создание highlights из видео с текстом для привлечения внимания',
      technicalDetails: 'Интеграция со сторонним API для обработки видео, извлечение ключевых моментов',
    },
    {
      title: '8. Модерация и кросс-платформенная публикация',
      description: 'Workflow модерации и публикация в Telegram, VK, Instagram, YouTube одной кнопкой',
      technicalDetails: 'Ручная модерация с системой согласования. Интеграция с API социальных сетей. Планируется адаптация текста под каждую платформу',
    },
  ],

  // Архитектура
  architecture: 'Микросервисная архитектура (9 сервисов) с DDD и Clean Architecture, REST API коммуникация',

  architectureDetails: [
    {
      pattern: 'Domain-Driven Design (DDD)',
      description: 'Четкое разделение бизнес-логики по доменам: Account, Organization, Employee, Content',
    },
    {
      pattern: 'Clean/Layered Architecture',
      description: 'Слоистая архитектура в каждом микросервисе с разделением на Domain, Application, Infrastructure слои',
    },
    {
      pattern: 'Microservices',
      description: '9 независимых сервисов с REST API коммуникацией, каждый отвечает за свой домен',
    },
  ],

  microservices: [
    'admin-panel — Web-интерфейс для управления организациями',
    'tg-bot — Telegram Bot для сотрудников (основной интерфейс для генерации контента)',
    'release-tg-bot — Production версия Telegram Bot',
    'account — Управление пользовательскими аккаунтами и аутентификацией',
    'authorization — Сервис авторизации и управления правами доступа',
    'employee — Управление сотрудниками организаций',
    'organization — Управление организациями и их брифами',
    'content — Генерация и управление контентом (тексты, изображения)',
    'internal-dashboard — Аналитика, метрики, карта перемещения пользователей',
  ],

  communicationPattern: 'REST API между сервисами',

  // Технологии
  backend: 'Python FastAPI, asyncpg, aiogram_dialog',
  frontend: 'React + FSD (Feature-Sliced Design) для Web-админки, Telegram Bot для сотрудников',
  infrastructure: 'Docker Compose (dev/stage/prod), PostgreSQL, Redis, S3 (MinIO/SeaweedFS)',

  techStack: [
    'Python FastAPI',
    'asyncpg',
    'aiogram_dialog',
    'React',
    'Feature-Sliced Design',
    'PostgreSQL',
    'Redis',
    'SeaweedFS / MinIO',
    'Docker Compose',
  ],

  aiModels: [
    'Claude Haiku 4.5 — AI-брифы организаций и рубрик',
    'Claude Sonnet 4.5 — Генерация и редактирование текстов',
    'gpt-image-1 — Генерация изображений',
    'NanoBanana — Редактирование изображений',
    'Whisper API — Распознавание речи для голосового ввода',
  ],

  monitoring: [
    'Grafana — Визуализация метрик и дашборды',
    'Loki — Централизованное логирование',
    'Tempo — Distributed tracing',
    'OpenTelemetry Collector — Сбор метрик и трейсов',
    'VictoriaMetrics — Хранение метрик',
  ],

  // Хайлайты
  highlights: [
    'Разработал полнофункциональную AI-платформу с микросервисной архитектурой за 1-2 месяца',
    'Реализовал уникальную систему обучения AI через итеративный AI+человек рефайнинг',
    'Создал AI-image-studio с JSON-промптингом и 6 режимами работы с изображениями',
    'Спроектировал архитектуру из 9 микросервисов с DDD и Clean Architecture',
    'Интегрировал 4+ AI модели (Claude Haiku/Sonnet, gpt-image, NanoBanana, Whisper)',
    'Реализовал кросс-платформенную публикацию в 4+ социальных сети',
    'Настроил полный observability стек (Grafana, Loki, Tempo, OTEL, VictoriaMetrics)',
    'Разработал Web-админку (React+FSD) и Telegram Bot интерфейсы',
    'Внедрил систему управления контекстом через разбиение на независимые промпты',
    'Создал internal dashboard с картой перемещения пользователей и аналитикой',
  ],

  // Результаты
  results: [
    {
      metric: 'Бета-тестеры',
      value: '10 компаний',
      description: 'Активное бета-тестирование с реальными бизнесами',
    },
    {
      metric: 'Пользователи',
      value: '30+ сотрудников',
      description: '3+ сотрудников в крупных компаниях',
    },
    {
      metric: 'Публикации',
      value: 'Ежедневные',
      description: 'Компании публикуют реальные посты в свои соцсети через Loom',
    },
    {
      metric: 'Разработка MVP',
      value: '1-2 месяца',
      description: 'Быстрая разработка полнофункционального MVP одним разработчиком',
    },
  ],

  feedback: 'Позитивный фидбек от бета-тестеров. Компании активно используют платформу для публикации контента в свои социальные сети.',

  // Детальное описание
  detailedDescription: `
Loom — это B2B SaaS платформа, решающая реальную проблему бизнеса: автоматизацию SMM-отдела.
Сотрудник может в паре слов (даже голосом через Whisper) описать кейс, а на выходе получить
качественный текст и изображение, полностью соответствующие правилам организации и рубрики,
после чего опубликовать в разные соцсети одной кнопкой.

**Ключевая инновация** — система обучения рубрик: вместо обычной генерации AI, система проводит
итеративный процесс, где AI (Claude Haiku + Sonnet) и человек совместно критикуют результат до
достижения эталонного качества. Этот эталон затем используется для воспроизводимой генерации
контента, который не выглядит как AI-шный.

**Техническая сложность**: управление контекстом AI-брифов решено через разбиение процесса на
независимые промпты с передачей только необходимого контекста. JSON-промптинг обеспечивает
качественную генерацию изображений через препроцессинг инструкций Claude.

Проект демонстрирует способность быстро разрабатывать сложные системы: за 1-2 месяца создана
микросервисная архитектура из 9 сервисов, интегрированы 4+ AI модели, реализованы Web и Bot
интерфейсы, настроен production-ready observability стек.
  `.trim(),

  lessonsLearned: [
    'Управление AI-контекстом — ключевой фактор стабильности и стоимости AI-систем',
    'Итеративный рефайнинг значительно повышает качество AI-генерации',
    'UX сложных AI-флоу требует тщательной проработки и визуального фидбека',
    'Микросервисная архитектура оправдана даже для MVP при наличии четких доменов',
    'JSON-промптинг эффективен для структурированного взаимодействия между AI-моделями',
  ],
};
